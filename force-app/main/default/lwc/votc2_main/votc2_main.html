<template>
    <div class="slds-align_absolute-center">
        <div>
            <div class="slds-float_left slds-m-around_small slds-box slds-theme_shade">
                <div class="slds-m-bottom_small slds-text-heading_medium slds-align_absolute-center">
                    <template if:true={opportunityChosen}>
                        Survey
                    </template>


                    <template if:false={opportunityChosen}>
                        Find Opportunity
                    </template>
                </div>


                <div>
                    <template if:true={opportunityChosen}>
                        <div>
                            <b>Instructions:</b><br/>
                            <ul class="slds-list_dotted">
                                <li>
                                    If the customer was satisfied with it then check the box. Otherwise, leave the box unchecked and mention why they were unsatisfied in the corresponding Additional Comments box.
                                </li>

                                <li>
                                    In the General Comments box be sure to include any other comments or concerns that you feel are necessary, up to 255 characters.
                                </li>
                            </ul>
                        </div>

                        <div class="slds-clearfix slds-m-top_medium">
                            <div class="slds-float_left slds-m-around_small slds-box slds-box_xx-small">
                                <div class="slds-float_left slds-m-right_small slds-text-heading_xsmall">
                                    Paint
                                </div>

                                <lightning-helptext content="Any missed spots, or splatters, etc.? Then leave the box unchecked."></lightning-helptext>

                                <div class="slds-m-top_small">
                                    <lightning-input type="checkbox" data-id="PaintCheckbox"></lightning-input>
                                </div>

                                <div class="slds-m-top_small">
                                    <lightning-textarea label="Additional Comments" data-id="PaintComments"></lightning-textarea>
                                </div>
                            </div>

                            <div class="slds-float_left slds-m-around_small slds-box slds-box_xx-small">
                                <div class="slds-float_left slds-m-right_small slds-text-heading_xsmall">
                                    Appearance
                                </div>

                                <lightning-helptext content="Any scratches, or wrong color, etc.? Then leave the box unchecked."></lightning-helptext>

                                <div class="slds-m-top_small">
                                    <lightning-input type="checkbox" data-id="AppearanceCheckbox"></lightning-input>
                                </div>

                                <div class="slds-m-top_small">
                                    <lightning-textarea label="Additional Comments" data-id="AppearanceComments"></lightning-textarea>
                                </div>
                            </div>

                            <div class="slds-float_left slds-m-around_small slds-box slds-box_xx-small">
                                <div class="slds-float_left slds-m-right_small slds-text-heading_xsmall">
                                    Electrical
                                </div>

                                <lightning-helptext content="Any exposed wires, or shorting circuits, etc.? Then leave the box unchecked."></lightning-helptext>

                                <div class="slds-m-top_small">
                                    <lightning-input type="checkbox" data-id="ElectricalCheckbox"></lightning-input>
                                </div>

                                <div class="slds-m-top_small">
                                    <lightning-textarea label="Additional Comments" data-id="ElectricalComments"></lightning-textarea>
                                </div>
                            </div>

                            <div class="slds-float_left slds-m-around_small slds-box slds-box_xx-small">
                                <div class="slds-float_left slds-m-right_small slds-text-heading_xsmall">
                                    Hydraulics
                                </div>

                                <lightning-helptext content="Anything hydraulic loose, or leaking, etc.? Then leave the box unchecked."></lightning-helptext>

                                <div class="slds-m-top_small">
                                    <lightning-input type="checkbox" data-id="HydraulicsCheckbox"></lightning-input>
                                </div>

                                <div class="slds-m-top_small">
                                    <lightning-textarea label="Additional Comments" data-id="HydraulicsComments"></lightning-textarea>
                                </div>
                            </div>

                            <div class="slds-float_left slds-m-around_small slds-box slds-box_xx-small">
                                <div class="slds-float_left slds-m-right_small slds-text-heading_xsmall">
                                    Functionality
                                </div>

                                <lightning-helptext content="Anything not working properly that wasn't already mentioned, etc.? Then leave the box unchecked."></lightning-helptext>

                                <div class="slds-m-top_small">
                                    <lightning-input type="checkbox" data-id="FunctionalityCheckbox"></lightning-input>
                                </div>

                                <div class="slds-m-top_small">
                                    <lightning-textarea label="Additional Comments" data-id="FunctionalityComments"></lightning-textarea>
                                </div>
                            </div>
                        </div>

                        <div class="slds-m-top_medium">
                            <lightning-textarea label="General Comments" data-id="GeneralComments"></lightning-textarea>
                        </div>


                        <div class="slds-align_absolute-center slds-m-top_large">
                            <lightning-button variant="brand" label="Submit" onclick={handleSubmit}></lightning-button>
                        </div>
                    </template>


                    <template if:false={opportunityChosen}>
                        <div class="slds-text-body_regular">
                            Enter the name of an Opportunity to open a survey for it.
                        </div>

                        <div>
                            <lightning-record-edit-form
                                object-api-name="VOTC_Survey__c">

                                <lightning-input-field
                                    field-name="Opportunity__c"
                                    data-id="OpportunityLookup">

                                </lightning-input-field>

                            </lightning-record-edit-form>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>



    <div class="slds-align_absolute-center">
        <div>

            <div class="slds-float_left slds-m-around_small slds-box slds-theme_shade">
                <div class="slds-m-bottom_small slds-text-heading_medium slds-align_absolute-center">
                    Opportunity
                </div>

                <div>
                    <template if:true={opportunityChosen}>
                        <div class="">
                            <div class="slds-text-body_regular">
                                Name
                            </div>
                            
                            <lightning-formatted-url
                                value="Opportunity URL Here"
                                label="Opportunity Name Here"
                                target="_blank"
                                data-id="OpportunityName">
                            </lightning-formatted-url>
                        </div>

                        <div class="slds-m-top_small">
                            <div class="slds-text-body_regular">
                                Opportunity Owner
                            </div>

                            <lightning-formatted-url
                                value="Opportunity Owner URL Here"
                                label="Opportunity Owner Name Here"
                                target="_blank"
                                data-id="OpportunityOwner">
                            </lightning-formatted-url>
                        </div>

                        <div class="slds-m-top_small">
                            <div class="slds-text-body_regular">
                                Close Date
                            </div>

                            <lightning-formatted-date-time
                                value="2077-11-05"
                                data-id="OpportunityCloseDate">
                            </lightning-formatted-date-time>
                        </div>
                    </template>


                    <template if:false={opportunityChosen}>
                        <div class="slds-text-body_regular">
                            Enter an Opportunity above to display its record here.
                        </div>
                    </template>
                </div>
            </div>



            <div class="slds-float_left slds-m-around_small slds-box slds-theme_shade">
                <div class="slds-m-bottom_small slds-text-heading_medium slds-align_absolute-center">
                    Products
                </div>

                <div class="slds-clearfix">
                    <template if:true={opportunityChosen}>

                            <template if:true={productsFromOpportunity}>

                                <template for:each={productsFromOpportunity} for:item="product">
                                    <div class="slds-m-around_small slds-box slds-box_xx-small"  key={product.Id}>
                                        
                                        <div class="slds-m-top_small">
                                            <div class="slds-text-body_regular">
                                                Product Name
                                            </div>
            
                                            <lightning-formatted-url
                                                value={product.Product2URL}
                                                label={product.Product2Name}
                                                target="_blank">
                                            </lightning-formatted-url>
                                        </div>


                                        <div class="slds-m-top_small">
                                            <div class="slds-text-body_regular">
                                                Product Type
                                            </div>
            
                                            <div class="slds-m-right_small slds-text-heading_small">
                                                {product.Type}
                                            </div>
                                        </div>

                                        <template if:true={product.Body_Make}>
                                            <div class="slds-m-top_small">
                                                <div class="slds-text-body_regular">
                                                    Body Make
                                                </div>
                
                                                <div class="slds-m-right_small slds-text-heading_small">
                                                    {product.Body_Make}
                                                </div>
                                            </div>
                                        </template>

                                        <template if:true={product.Body_Model}>
                                            <div class="slds-m-top_small">
                                                <div class="slds-text-body_regular">
                                                    Body Model
                                                </div>
                
                                                <div class="slds-m-right_small slds-text-heading_small">
                                                    {product.Body_Model}
                                                </div>
                                            </div>
                                        </template>

                                        <template if:true={product.Chassis_Make}>
                                            <div class="slds-m-top_small">
                                                <div class="slds-text-body_regular">
                                                    Chassis Make
                                                </div>
                
                                                <div class="slds-m-right_small slds-text-heading_small">
                                                    {product.Chassis_Make}
                                                </div>
                                            </div>
                                        </template>

                                        <template if:true={product.Chassis_Model}>
                                            <div class="slds-m-top_small">
                                                <div class="slds-text-body_regular">
                                                    Chassis Model
                                                </div>
                
                                                <div class="slds-m-right_small slds-text-heading_small">
                                                    {product.Chassis_Model}
                                                </div>
                                            </div>
                                        </template>

                                        <template if:true={product.Lube_Type}>
                                            <div class="slds-m-top_small">
                                                <div class="slds-text-body_regular">
                                                    Lube Type
                                                </div>
                
                                                <div class="slds-m-right_small slds-text-heading_small">
                                                    {product.Lube_Type}
                                                </div>
                                            </div>
                                        </template>

                                    </div>
                                </template>

                            </template>


                        <template if:false={productsFromOpportunity}>

                            <div class="slds-text-body_regular">
                                No products to display for this Opportunity.
                            </div>

                        </template>

                    </template>



                    <template if:false={opportunityChosen}>
                        <div class="slds-text-body_regular">
                            Enter an Opportunity above to display the products that were sold here.
                        </div>
                    </template>
                </div>
            </div>



            <div class="slds-float_left slds-m-around_small slds-box slds-theme_shade">
                <div class="slds-m-bottom_small slds-text-heading_medium slds-align_absolute-center">
                    Account
                </div>

                <div>
                    <template if:true={opportunityChosen}>
                        <div class="">
                            <div class="slds-text-body_regular">
                                Account Name
                            </div>

                            <lightning-formatted-url
                                value="Account URL Here"
                                label="Account Name Here"
                                target="_blank"
                                data-id="AccountName">
                            </lightning-formatted-url>
                        </div>

                        <div class="slds-m-top_small">
                            <div class="slds-text-body_regular">
                                Account Phone
                            </div>

                            <lightning-formatted-phone
                                value="Account PhoneNumber Here"
                                data-id="AccountPhone">
                            </lightning-formatted-phone>
                        </div>

                        <div class="slds-m-top_small">
                            <div class="slds-text-body_regular">
                                Account Billing Address
                            </div>

                            <lightning-formatted-address
                                street="Street"
                                city="City"
                                country="Country"
                                province="State"
                                postal-code="PostalCode"
                                data-id="AccountBillingAddress">
                            </lightning-formatted-address>
                        </div>

                        <div class="slds-m-top_small">
                            <div class="slds-text-body_regular">
                                Account Shipping Address
                            </div>

                            <lightning-formatted-address
                                street="Street"
                                city="City"
                                country="Country"
                                province="State"
                                postal-code="PostalCode"
                                data-id="AccountShippingAddress">
                            </lightning-formatted-address>
                        </div>
                    </template>


                    <template if:false={opportunityChosen}>
                        <div class="slds-text-body_regular">
                            Enter an Opportunity above to display the information of the associated account here.
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </div>
</template>